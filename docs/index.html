<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@joliegg/ai</title><meta name="description" content="Documentation for @joliegg/ai"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@joliegg/ai</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@joliegg/ai</h1></div><div class="tsd-panel tsd-typography"><p><a href="https://firstdonoharm.dev/version/3/0/cl.html"><img src="https://img.shields.io/static/v1?label=Hippocratic%20License&amp;message=HL3-CL&amp;labelColor=5e2751&amp;color=bc8c3d" alt="Hippocratic License HL3-CL"></a></p>
<h1 id="chat-ai" class="tsd-anchor-link">Chat AI<a href="#chat-ai" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1>
<p>A unified TypeScript/JavaScript library for multiple AI providers including OpenAI, Anthropic Claude, Google Gemini,
DeepSeek, Grok, Mistral, Ollama, Qwen, Kimi, and Stability AI for chat completions, streaming, function calling,
embeddings, image generation, and video generation.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li><strong>Unified Interface</strong> - Consistent API across all providers</li>
<li><strong>Streaming Support</strong> - Real-time streaming responses</li>
<li><strong>Function/Tool Calling</strong> - Native support for AI function calling</li>
<li><strong>Embeddings</strong> - Generate text embeddings for RAG and search</li>
<li><strong>Image Generation</strong> - DALL-E, Stability AI, Grok, and Imagen</li>
<li><strong>Video Generation</strong> - Sora-2 video generation with async polling</li>
<li><strong>Video Understanding</strong> - Analyze videos with Gemini</li>
<li><strong>Vision/Multimodal</strong> - Easy image, audio, video, and document input helpers</li>
<li><strong>Audio Input</strong> - Send audio in chat messages (GPT-4o, Gemini)</li>
<li><strong>Audio Output</strong> - Speech-to-text (Whisper) and text-to-speech</li>
<li><strong>Document Input</strong> - Process PDFs and documents in chat</li>
<li><strong>Realtime API</strong> - Bidirectional audio streaming for voice apps</li>
<li><strong>Reasoning/Thinking</strong> - Extended thinking for Claude, reasoning effort for OpenAI o-series</li>
<li><strong>Conversation Manager</strong> - Multi-turn chat with history, serialization, editing, token-aware trimming, provider switching, and automated tool loops</li>
<li><strong>Batch Processing</strong> - Process multiple requests in parallel</li>
<li><strong>Content Moderation</strong> - Check content for policy violations</li>
<li><strong>File Management</strong> - Upload and manage files</li>
<li><strong>Model Listing</strong> - List available models from providers</li>
<li><strong>Token Counting</strong> - Estimate token usage before sending</li>
<li><strong>Error Handling</strong> - Comprehensive error types with automatic parsing</li>
<li><strong>Retry Logic</strong> - Built-in exponential backoff for transient failures</li>
<li><strong>TypeScript</strong> - Full type definitions included</li>
<li><strong>Environment Variables</strong> - Auto-detect API keys from environment</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<pre><code class="bash"><span class="hl-0">bun</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@joliegg/ai</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@joliegg/ai</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@joliegg/ai</span>
</code><button type="button">Copy</button></pre>

<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">Claude</span><span class="hl-1">, </span><span class="hl-5">Gemini</span><span class="hl-1">, </span><span class="hl-5">DeepSeek</span><span class="hl-1">, </span><span class="hl-5">Grok</span><span class="hl-1">, </span><span class="hl-5">Mistral</span><span class="hl-1">, </span><span class="hl-5">Ollama</span><span class="hl-1">, </span><span class="hl-5">Qwen</span><span class="hl-1">, </span><span class="hl-5">Kimi</span><span class="hl-1">, </span><span class="hl-5">Dream</span><span class="hl-1">, </span><span class="hl-5">configure</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Optional: Configure global settings</span><br/><span class="hl-0">configure</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">timeout:</span><span class="hl-1"> </span><span class="hl-6">60000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">maxRetries:</span><span class="hl-1"> </span><span class="hl-6">3</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">debug:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Initialize providers (API keys auto-detected from environment)</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">(); </span><span class="hl-3">// Uses OPENAI_API_KEY</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">claude</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Claude</span><span class="hl-1">(); </span><span class="hl-3">// Uses ANTHROPIC_API_KEY or CLAUDE_API_KEY</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">gemini</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Gemini</span><span class="hl-1">(); </span><span class="hl-3">// Uses GOOGLE_API_KEY or GEMINI_API_KEY</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">mistral</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Mistral</span><span class="hl-1">(); </span><span class="hl-3">// Uses MISTRAL_API_KEY</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">ollama</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Ollama</span><span class="hl-1">(); </span><span class="hl-3">// Uses local Ollama (no key needed)</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">qwen</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Qwen</span><span class="hl-1">(); </span><span class="hl-3">// Uses DASHSCOPE_API_KEY</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">kimi</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Kimi</span><span class="hl-1">(); </span><span class="hl-3">// Uses MOONSHOT_API_KEY</span><br/><br/><span class="hl-3">// Or pass API keys explicitly</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT2</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">(</span><span class="hl-2">&#39;your-openai-api-key&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="unified-interface" class="tsd-anchor-link">Unified Interface<a href="#unified-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>All providers support a consistent interface for chat completions:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">Claude</span><span class="hl-1">, </span><span class="hl-5">Gemini</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">ai</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">(); </span><span class="hl-3">// or new Claude(), new Gemini(), etc.</span><br/><br/><span class="hl-3">// Completion with consistent response format</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">ai</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><br/><span class="hl-1">    { </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;system&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;You are a helpful assistant.&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;What is the capital of France?&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">maxTokens:</span><span class="hl-1"> </span><span class="hl-6">500</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">temperature:</span><span class="hl-1"> </span><span class="hl-6">0.7</span><span class="hl-1">,</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1">); </span><span class="hl-3">// &quot;The capital of France is Paris.&quot;</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">provider</span><span class="hl-1">); </span><span class="hl-3">// &quot;openai&quot;</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">finishReason</span><span class="hl-1">); </span><span class="hl-3">// &quot;stop&quot;</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">usage</span><span class="hl-1">); </span><span class="hl-3">// { promptTokens: 25, completionTokens: 10, totalTokens: 35 }</span>
</code><button type="button">Copy</button></pre>

<h2 id="streaming" class="tsd-anchor-link">Streaming<a href="#streaming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Real-time streaming is supported across all chat providers:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Stream with async iteration</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">stream</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Write a short story about a robot.&#39;</span><span class="hl-1"> }])) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Stream with callbacks</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">stream</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Explain quantum computing.&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-0">onToken</span><span class="hl-5">:</span><span class="hl-1"> (</span><span class="hl-5">token</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">token</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">onToolCall</span><span class="hl-5">:</span><span class="hl-1"> (</span><span class="hl-5">toolCall</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Tool called:&#39;</span><span class="hl-1">, </span><span class="hl-5">toolCall</span><span class="hl-1">),</span><br/><span class="hl-1">})) {</span><br/><span class="hl-1">  </span><span class="hl-3">// Chunks are also yielded</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="functiontool-calling" class="tsd-anchor-link">Function/Tool Calling<a href="#functiontool-calling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Native support for AI function calling with OpenAI, Claude, and Gemini:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;What is the weather in San Francisco?&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">tools:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;get_weather&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Get the current weather for a location&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">parameters:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;object&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">properties:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-5">location:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-5">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The city and state, e.g. San Francisco, CA&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">          </span><span class="hl-5">unit:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-5">enum:</span><span class="hl-1"> [</span><span class="hl-2">&#39;celsius&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;fahrenheit&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-5">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Temperature unit&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          },</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-5">required:</span><span class="hl-1"> [</span><span class="hl-2">&#39;location&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">toolChoice:</span><span class="hl-1"> </span><span class="hl-2">&#39;auto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">toolCalls</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">toolCall</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">toolCalls</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Function:&#39;</span><span class="hl-1">, </span><span class="hl-5">toolCall</span><span class="hl-1">.</span><span class="hl-5">name</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Arguments:&#39;</span><span class="hl-1">, </span><span class="hl-5">toolCall</span><span class="hl-1">.</span><span class="hl-5">arguments</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">// { location: &#39;San Francisco, CA&#39;, unit: &#39;fahrenheit&#39; }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="embeddings" class="tsd-anchor-link">Embeddings<a href="#embeddings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Generate text embeddings for RAG, semantic search, and more:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">Gemini</span><span class="hl-1">, </span><span class="hl-5">Mistral</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// OpenAI embeddings</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">openaiEmbed</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">embed</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello world&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;text-embedding-3-small&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">dimensions:</span><span class="hl-1"> </span><span class="hl-6">512</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">openaiEmbed</span><span class="hl-1">.</span><span class="hl-5">embeddings</span><span class="hl-1">[</span><span class="hl-6">0</span><span class="hl-1">]); </span><span class="hl-3">// [0.123, -0.456, ...]</span><br/><br/><span class="hl-3">// Gemini embeddings</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">gemini</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Gemini</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">geminiEmbed</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">embed</span><span class="hl-1">([</span><span class="hl-2">&#39;Text 1&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Text 2&#39;</span><span class="hl-1">]);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">geminiEmbed</span><span class="hl-1">.</span><span class="hl-5">embeddings</span><span class="hl-1">); </span><span class="hl-3">// [[...], [...]]</span><br/><br/><span class="hl-3">// Mistral embeddings</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">mistral</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Mistral</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">mistralEmbed</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">mistral</span><span class="hl-1">.</span><span class="hl-0">embed</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello world&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="reasoning-extended-thinking" class="tsd-anchor-link">Reasoning / Extended Thinking<a href="#reasoning-extended-thinking" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Enable advanced reasoning for supported models:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">Claude</span><span class="hl-1">, </span><span class="hl-5">DeepSeek</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// OpenAI o-series reasoning effort</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">(</span><br/><span class="hl-1">  [{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Prove that the square root of 2 is irrational.&#39;</span><span class="hl-1"> }],</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;o3-mini&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">reasoning:</span><span class="hl-1"> { </span><span class="hl-5">effort:</span><span class="hl-1"> </span><span class="hl-2">&#39;high&#39;</span><span class="hl-1"> }, </span><span class="hl-3">// &#39;low&#39;, &#39;medium&#39;, or &#39;high&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Claude extended thinking with token budget</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">claude</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Claude</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">claude</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">(</span><br/><span class="hl-1">  [{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Solve this step by step: ...&#39;</span><span class="hl-1"> }],</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-5">reasoning:</span><span class="hl-1"> { </span><span class="hl-5">budget:</span><span class="hl-1"> </span><span class="hl-6">2000</span><span class="hl-1"> }, </span><span class="hl-3">// budget_tokens for thinking</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// DeepSeek reasoner (default model is deepseek-reasoner)</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">deepSeek</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">DeepSeek</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response3</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">deepSeek</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">(</span><br/><span class="hl-1">  [{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Explain the proof of Fermat</span><span class="hl-9">\&#39;</span><span class="hl-2">s Last Theorem.&#39;</span><span class="hl-1"> }]</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="error-handling" class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Comprehensive error handling with typed error classes:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">AIError</span><span class="hl-1">, </span><span class="hl-5">AuthenticationError</span><span class="hl-1">, </span><span class="hl-5">RateLimitError</span><span class="hl-1">, </span><span class="hl-5">TimeoutError</span><span class="hl-1">, </span><span class="hl-5">isRetryableError</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-4">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Hello&#39;</span><span class="hl-1"> }]);</span><br/><span class="hl-1">} </span><span class="hl-4">catch</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1"> </span><span class="hl-7">instanceof</span><span class="hl-1"> </span><span class="hl-10">AuthenticationError</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid API key:&#39;</span><span class="hl-1">, </span><span class="hl-5">error</span><span class="hl-1">.</span><span class="hl-5">message</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1"> </span><span class="hl-7">instanceof</span><span class="hl-1"> </span><span class="hl-10">RateLimitError</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Rate limited, retry after:&#39;</span><span class="hl-1">, </span><span class="hl-5">error</span><span class="hl-1">.</span><span class="hl-5">retryAfter</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1"> </span><span class="hl-7">instanceof</span><span class="hl-1"> </span><span class="hl-10">TimeoutError</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Request timed out&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1"> </span><span class="hl-7">instanceof</span><span class="hl-1"> </span><span class="hl-10">AIError</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;AI Error:&#39;</span><span class="hl-1">, </span><span class="hl-5">error</span><span class="hl-1">.</span><span class="hl-5">provider</span><span class="hl-1">, </span><span class="hl-5">error</span><span class="hl-1">.</span><span class="hl-5">code</span><span class="hl-1">, </span><span class="hl-5">error</span><span class="hl-1">.</span><span class="hl-5">message</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Check if error is retryable</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-0">isRetryableError</span><span class="hl-1">(</span><span class="hl-5">error</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Retry logic is handled automatically, but you can implement custom logic</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="provider-specific-examples" class="tsd-anchor-link">Provider-Specific Examples<a href="#provider-specific-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="openai-chatgpt" class="tsd-anchor-link">OpenAI ChatGPT<a href="#openai-chatgpt" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">(</span><span class="hl-2">&#39;your-openai-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Chat completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><br/><span class="hl-1">  { </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;system&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;You are a helpful assistant.&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Write a haiku about coding.&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// With options</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Describe yourself in 5 words&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;gpt-4o-mini&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">maxTokens:</span><span class="hl-1"> </span><span class="hl-6">300</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="anthropic-claude" class="tsd-anchor-link">Anthropic Claude<a href="#anthropic-claude" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Claude</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">claude</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Claude</span><span class="hl-1">(</span><span class="hl-2">&#39;your-anthropic-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Chat completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">claude</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Explain machine learning&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;claude-sonnet-4-0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">maxTokens:</span><span class="hl-1"> </span><span class="hl-6">500</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Streaming</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">claude</span><span class="hl-1">.</span><span class="hl-0">stream</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Write a poem about AI&#39;</span><span class="hl-1"> }])) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// With tools</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">toolResponse</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">claude</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;What time is it in Tokyo?&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">tools:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;get_time&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Get current time in a timezone&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">parameters:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;object&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">properties:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-5">timezone:</span><span class="hl-1"> { </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-5">required:</span><span class="hl-1"> [</span><span class="hl-2">&#39;timezone&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="google-gemini" class="tsd-anchor-link">Google Gemini<a href="#google-gemini" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Gemini</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">gemini</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Gemini</span><span class="hl-1">(</span><span class="hl-2">&#39;your-google-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Chat completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Explain quantum computing&#39;</span><span class="hl-1"> }]);</span><br/><br/><span class="hl-3">// With conversation history</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><br/><span class="hl-1">    { </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Hello!&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;assistant&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Hi there!&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;What is the capital of France?&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  { </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;gemini-2.5-pro&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Embeddings</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">embeddings</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">embed</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello world&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="deepseek" class="tsd-anchor-link">DeepSeek<a href="#deepseek" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">DeepSeek</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">deepSeek</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">DeepSeek</span><span class="hl-1">(</span><span class="hl-2">&#39;your-deepseek-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Chat completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">deepSeek</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Write a Python function for binary search&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;deepseek-coder&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">maxTokens:</span><span class="hl-1"> </span><span class="hl-6">500</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Streaming</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">deepSeek</span><span class="hl-1">.</span><span class="hl-0">stream</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Explain recursion&#39;</span><span class="hl-1"> }])) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="grok" class="tsd-anchor-link">Grok<a href="#grok" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Grok</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">grok</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Grok</span><span class="hl-1">(</span><span class="hl-2">&#39;your-grok-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Chat completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">grok</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;What makes you unique?&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;grok-4&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">maxTokens:</span><span class="hl-1"> </span><span class="hl-6">400</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Streaming</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">grok</span><span class="hl-1">.</span><span class="hl-0">stream</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Tell me a joke&#39;</span><span class="hl-1"> }])) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="mistral" class="tsd-anchor-link">Mistral<a href="#mistral" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Mistral</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">mistral</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Mistral</span><span class="hl-1">(</span><span class="hl-2">&#39;your-mistral-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Chat completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">mistral</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Explain neural networks&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;mistral-large-latest&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Embeddings</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">embeddings</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">mistral</span><span class="hl-1">.</span><span class="hl-0">embed</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello world&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;mistral-embed&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Streaming</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">mistral</span><span class="hl-1">.</span><span class="hl-0">stream</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Write a story&#39;</span><span class="hl-1"> }])) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="ollama-local-llms" class="tsd-anchor-link">Ollama (Local LLMs)<a href="#ollama-local-llms" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Ollama</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Connect to local Ollama instance</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">ollama</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Ollama</span><span class="hl-1">(); </span><span class="hl-3">// Defaults to localhost:11434</span><br/><br/><span class="hl-3">// Or specify custom host</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">ollama2</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Ollama</span><span class="hl-1">(</span><span class="hl-7">undefined</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">baseURL:</span><span class="hl-1"> </span><span class="hl-2">&#39;http://my-server:11434/v1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Chat completion with local model</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">ollama</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Hello!&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;llama3.2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Streaming</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">ollama</span><span class="hl-1">.</span><span class="hl-0">stream</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Tell me about yourself&#39;</span><span class="hl-1"> }], { </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;mistral&#39;</span><span class="hl-1"> })) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Embeddings (requires embedding model like nomic-embed-text)</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">embeddings</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">ollama</span><span class="hl-1">.</span><span class="hl-0">embed</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello world&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;nomic-embed-text&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="qwen" class="tsd-anchor-link">Qwen<a href="#qwen" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Qwen</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">qwen</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Qwen</span><span class="hl-1">(</span><span class="hl-2">&#39;your-dashscope-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Chat completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">qwen</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Explain distributed systems&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;qwen-plus&#39;</span><span class="hl-1">, </span><span class="hl-3">// or &#39;qwen3-max&#39;, &#39;qwen-turbo&#39;, &#39;qwen-flash&#39;, &#39;qwq-plus&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Streaming</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">qwen</span><span class="hl-1">.</span><span class="hl-0">stream</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Write a poem&#39;</span><span class="hl-1"> }])) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Embeddings</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">embeddings</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">qwen</span><span class="hl-1">.</span><span class="hl-0">embed</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello world&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;text-embedding-v4&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="kimi" class="tsd-anchor-link">Kimi<a href="#kimi" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Kimi</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">kimi</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Kimi</span><span class="hl-1">(</span><span class="hl-2">&#39;your-moonshot-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Chat completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">kimi</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;What is quantum entanglement?&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;kimi-k2.5&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Streaming</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">kimi</span><span class="hl-1">.</span><span class="hl-0">stream</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Tell me a story&#39;</span><span class="hl-1"> }])) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Reasoning models</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">kimi</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Solve this math problem step by step&#39;</span><span class="hl-1"> }], {</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;kimi-k2-thinking&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="image-generation" class="tsd-anchor-link">Image Generation<a href="#image-generation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="openai-dall-e" class="tsd-anchor-link">OpenAI DALL-E<a href="#openai-dall-e" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">(</span><span class="hl-2">&#39;your-openai-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Generate with DALL-E 3</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">images</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">generate</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;A yellow cat looking at a birthday cake&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">n:</span><span class="hl-1"> </span><span class="hl-6">1</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">size:</span><span class="hl-1"> </span><span class="hl-2">&#39;1024x1024&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;dall-e-3&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">quality:</span><span class="hl-1"> </span><span class="hl-2">&#39;standard&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">format:</span><span class="hl-1"> </span><span class="hl-2">&#39;png&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">background:</span><span class="hl-1"> </span><span class="hl-2">&#39;auto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;cat-cake.png&#39;</span><span class="hl-1">, </span><span class="hl-5">images</span><span class="hl-1">[</span><span class="hl-6">0</span><span class="hl-1">]);</span><br/><br/><span class="hl-3">// Generate multiple with DALL-E 2</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">images2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">generate</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;A futuristic city skyline at sunset&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">n:</span><span class="hl-1"> </span><span class="hl-6">4</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">size:</span><span class="hl-1"> </span><span class="hl-2">&#39;512x512&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;dall-e-2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">quality:</span><span class="hl-1"> </span><span class="hl-2">&#39;standard&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">format:</span><span class="hl-1"> </span><span class="hl-2">&#39;png&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">background:</span><span class="hl-1"> </span><span class="hl-2">&#39;auto&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="stability-ai" class="tsd-anchor-link">Stability AI<a href="#stability-ai" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Dream</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">dream</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Dream</span><span class="hl-1">(</span><span class="hl-2">&#39;your-stability-api-key&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;ultra&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Text to image</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">image</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">dream</span><span class="hl-1">.</span><span class="hl-0">generate</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;A magical forest with glowing mushrooms&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">aspectRatio:</span><span class="hl-1"> </span><span class="hl-2">&#39;16:9&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">style:</span><span class="hl-1"> </span><span class="hl-2">&#39;fantasy-art&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">seed:</span><span class="hl-1"> </span><span class="hl-6">12345</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">outputFormat:</span><span class="hl-1"> </span><span class="hl-2">&#39;png&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;forest.png&#39;</span><span class="hl-1">, </span><span class="hl-5">image</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Image to image</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">inputBuffer</span><span class="hl-1"> = </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;input.png&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">edited</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">dream</span><span class="hl-1">.</span><span class="hl-0">generateFromImage</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">image:</span><span class="hl-1"> </span><span class="hl-5">inputBuffer</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;Make it more vibrant&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">strength:</span><span class="hl-1"> </span><span class="hl-6">0.5</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">style:</span><span class="hl-1"> </span><span class="hl-2">&#39;enhance&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="grok-image-generation" class="tsd-anchor-link">Grok Image Generation<a href="#grok-image-generation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Grok</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">grok</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Grok</span><span class="hl-1">(</span><span class="hl-2">&#39;your-grok-api-key&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">images</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">grok</span><span class="hl-1">.</span><span class="hl-0">generate</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;A futuristic robot exploring an alien planet&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">n:</span><span class="hl-1"> </span><span class="hl-6">2</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;grok-2-image&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">images</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">((</span><span class="hl-5">buffer</span><span class="hl-1">, </span><span class="hl-5">i</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">`robot-</span><span class="hl-7">${</span><span class="hl-5">i</span><span class="hl-7">}</span><span class="hl-2">.png`</span><span class="hl-1">, </span><span class="hl-5">buffer</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="video-generation-sora-2" class="tsd-anchor-link">Video Generation (Sora-2)<a href="#video-generation-sora-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Generate videos using OpenAI's Sora-2 model:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Start a video generation job</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">job</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">generateVideo</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;A sweeping drone shot over ancient ruins at sunrise&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;sora-2&#39;</span><span class="hl-1">, </span><span class="hl-3">// or &#39;sora-2-pro&#39; for higher quality</span><br/><span class="hl-1">  </span><span class="hl-5">size:</span><span class="hl-1"> </span><span class="hl-2">&#39;1280x720&#39;</span><span class="hl-1">, </span><span class="hl-3">// landscape, or &#39;720x1280&#39; for portrait</span><br/><span class="hl-1">  </span><span class="hl-5">seconds:</span><span class="hl-1"> </span><span class="hl-6">8</span><span class="hl-1">, </span><span class="hl-3">// 4, 8, or 12 seconds</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Job started:&#39;</span><span class="hl-1">, </span><span class="hl-5">job</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Status:&#39;</span><span class="hl-1">, </span><span class="hl-5">job</span><span class="hl-1">.</span><span class="hl-5">status</span><span class="hl-1">); </span><span class="hl-3">// &#39;pending&#39; or &#39;processing&#39;</span><br/><br/><span class="hl-3">// Poll for completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">getVideo</span><span class="hl-1">(</span><span class="hl-5">job</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">);</span><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">status</span><span class="hl-1"> === </span><span class="hl-2">&#39;completed&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Video URL:&#39;</span><span class="hl-1">, </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">videoUrl</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Or use the convenience method to wait for completion</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">video</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">generateVideoAndWait</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;A cat playing piano in a jazz club&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;sora-2-pro&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">seconds:</span><span class="hl-1"> </span><span class="hl-6">4</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Video ready:&#39;</span><span class="hl-1">, </span><span class="hl-5">video</span><span class="hl-1">.</span><span class="hl-5">videoUrl</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Download and save the video</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">videoBuffer</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">downloadVideo</span><span class="hl-1">(</span><span class="hl-5">video</span><span class="hl-1">.</span><span class="hl-5">videoUrl</span><span class="hl-1">);</span><br/><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;cat-piano.mp4&#39;</span><span class="hl-1">, </span><span class="hl-5">videoBuffer</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Or generate and download in one step</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">buffer</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">generateVideoBuffer</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;Northern lights dancing over a frozen lake&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">size:</span><span class="hl-1"> </span><span class="hl-2">&#39;1920x1080&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">seconds:</span><span class="hl-1"> </span><span class="hl-6">12</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;northern-lights.mp4&#39;</span><span class="hl-1">, </span><span class="hl-5">buffer</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="using-reference-images" class="tsd-anchor-link">Using Reference Images<a href="#using-reference-images" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Guide the video style with a reference image:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Load reference image</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">referenceImage</span><span class="hl-1"> = </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;./style-reference.jpg&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">video</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">generateVideoAndWait</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;A person walking through a cyberpunk city at night&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">inputReference:</span><span class="hl-1"> </span><span class="hl-5">referenceImage</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;sora-2-pro&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">size:</span><span class="hl-1"> </span><span class="hl-2">&#39;1280x720&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">seconds:</span><span class="hl-1"> </span><span class="hl-6">8</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="video-generation-options" class="tsd-anchor-link">Video Generation Options<a href="#video-generation-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prompt</code></td>
<td>string</td>
<td>required</td>
<td>Description of the video to generate</td>
</tr>
<tr>
<td><code>model</code></td>
<td>string</td>
<td><code>'sora-2'</code></td>
<td><code>'sora-2'</code> or <code>'sora-2-pro'</code></td>
</tr>
<tr>
<td><code>size</code></td>
<td>string</td>
<td><code>'1280x720'</code></td>
<td>Resolution (see supported sizes below)</td>
</tr>
<tr>
<td><code>seconds</code></td>
<td>number</td>
<td><code>4</code></td>
<td>Duration: <code>4</code>, <code>8</code>, or <code>12</code> seconds</td>
</tr>
<tr>
<td><code>inputReference</code></td>
<td>Buffer</td>
<td>optional</td>
<td>Reference image to guide visual style</td>
</tr>
</tbody>
</table>
<h3 id="supported-video-sizes" class="tsd-anchor-link">Supported Video Sizes<a href="#supported-video-sizes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<table>
<thead>
<tr>
<th>Size</th>
<th>Aspect Ratio</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1280x720</code></td>
<td>16:9</td>
<td>Landscape</td>
</tr>
<tr>
<td><code>720x1280</code></td>
<td>9:16</td>
<td>Portrait</td>
</tr>
<tr>
<td><code>1920x1080</code></td>
<td>16:9</td>
<td>Full HD</td>
</tr>
<tr>
<td><code>1080x1920</code></td>
<td>9:16</td>
<td>Full HD</td>
</tr>
<tr>
<td><code>1280x1280</code></td>
<td>1:1</td>
<td>Square</td>
</tr>
</tbody>
</table>
<h2 id="visionmultimodal" class="tsd-anchor-link">Vision/Multimodal<a href="#visionmultimodal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Easy helpers for working with images in chat:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">ChatGPT</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">imageFromFile</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">imageFromURL</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">imageFromBuffer</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">withImages</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">userMessage</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">createMessageBuilder</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Create image from file</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">image</span><span class="hl-1"> = </span><span class="hl-0">imageFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./photo.jpg&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Create image from URL</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">imageUrl</span><span class="hl-1"> = </span><span class="hl-0">imageFromURL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com/image.png&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Create image from buffer</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">imageBuffer</span><span class="hl-1"> = </span><span class="hl-0">imageFromBuffer</span><span class="hl-1">(</span><span class="hl-5">buffer</span><span class="hl-1">, </span><span class="hl-2">&#39;image/png&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Create a message with text and images</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">message</span><span class="hl-1"> = </span><span class="hl-0">userMessage</span><span class="hl-1">(</span><span class="hl-0">withImages</span><span class="hl-1">(</span><span class="hl-2">&#39;What is in this image?&#39;</span><span class="hl-1">, </span><span class="hl-5">image</span><span class="hl-1">));</span><br/><br/><span class="hl-3">// Use with complete</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><span class="hl-5">message</span><span class="hl-1">]);</span><br/><br/><span class="hl-3">// Or use MessageBuilder for complex conversations</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">messages</span><span class="hl-1"> = </span><span class="hl-0">createMessageBuilder</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-0">system</span><span class="hl-1">(</span><span class="hl-2">&#39;You are a helpful assistant that can see images.&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">userWithImages</span><span class="hl-1">(</span><span class="hl-2">&#39;Describe this photo&#39;</span><span class="hl-1">, </span><span class="hl-0">imageFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./vacation.jpg&#39;</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">(</span><span class="hl-5">messages</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="document-input-pdfs" class="tsd-anchor-link">Document Input (PDFs)<a href="#document-input-pdfs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Process PDFs and documents in chat with all providers:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">Claude</span><span class="hl-1">, </span><span class="hl-5">Gemini</span><span class="hl-1">, </span><span class="hl-5">documentFromFile</span><span class="hl-1">, </span><span class="hl-5">userMessage</span><span class="hl-1">, </span><span class="hl-5">withDocuments</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Create document from file</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">doc</span><span class="hl-1"> = </span><span class="hl-0">documentFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./report.pdf&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Use with OpenAI</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><span class="hl-0">userMessage</span><span class="hl-1">(</span><span class="hl-0">withDocuments</span><span class="hl-1">(</span><span class="hl-2">&#39;Summarize this document&#39;</span><span class="hl-1">, </span><span class="hl-5">doc</span><span class="hl-1">))]);</span><br/><br/><span class="hl-3">// Use with Claude (excellent PDF support)</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">claude</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Claude</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">claude</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><span class="hl-0">userMessage</span><span class="hl-1">(</span><span class="hl-0">withDocuments</span><span class="hl-1">(</span><span class="hl-2">&#39;What are the key findings?&#39;</span><span class="hl-1">, </span><span class="hl-5">doc</span><span class="hl-1">))]);</span><br/><br/><span class="hl-3">// Use with Gemini</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">gemini</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Gemini</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response3</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><span class="hl-0">userMessage</span><span class="hl-1">(</span><span class="hl-0">withDocuments</span><span class="hl-1">(</span><span class="hl-2">&#39;Extract the main points&#39;</span><span class="hl-1">, </span><span class="hl-5">doc</span><span class="hl-1">))]);</span><br/><br/><span class="hl-3">// Multiple documents</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">doc1</span><span class="hl-1"> = </span><span class="hl-0">documentFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./report1.pdf&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">doc2</span><span class="hl-1"> = </span><span class="hl-0">documentFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./report2.pdf&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response4</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">claude</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><span class="hl-0">userMessage</span><span class="hl-1">(</span><span class="hl-0">withDocuments</span><span class="hl-1">(</span><span class="hl-2">&#39;Compare these documents&#39;</span><span class="hl-1">, </span><span class="hl-5">doc1</span><span class="hl-1">, </span><span class="hl-5">doc2</span><span class="hl-1">))]);</span><br/><br/><span class="hl-3">// From buffer or URL</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">documentFromBuffer</span><span class="hl-1">, </span><span class="hl-5">documentFromURL</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">docBuffer</span><span class="hl-1"> = </span><span class="hl-0">documentFromBuffer</span><span class="hl-1">(</span><span class="hl-5">pdfBuffer</span><span class="hl-1">, </span><span class="hl-2">&#39;application/pdf&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;report.pdf&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">docUrl</span><span class="hl-1"> = </span><span class="hl-0">documentFromURL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com/document.pdf&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="audio-input-in-chat" class="tsd-anchor-link">Audio Input in Chat<a href="#audio-input-in-chat" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Send audio directly in chat messages (GPT-4o, Gemini):</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">Gemini</span><span class="hl-1">, </span><span class="hl-5">audioFromFile</span><span class="hl-1">, </span><span class="hl-5">userMessage</span><span class="hl-1">, </span><span class="hl-5">withAudio</span><span class="hl-1">, </span><span class="hl-5">createMessageBuilder</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Create audio content</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">audio</span><span class="hl-1"> = </span><span class="hl-0">audioFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./recording.mp3&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Use with GPT-4o</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><span class="hl-0">userMessage</span><span class="hl-1">(</span><span class="hl-0">withAudio</span><span class="hl-1">(</span><span class="hl-2">&#39;Transcribe and summarize this&#39;</span><span class="hl-1">, </span><span class="hl-5">audio</span><span class="hl-1">))]);</span><br/><br/><span class="hl-3">// Use with Gemini</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">gemini</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Gemini</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><span class="hl-0">userMessage</span><span class="hl-1">(</span><span class="hl-0">withAudio</span><span class="hl-1">(</span><span class="hl-2">&#39;What is being discussed?&#39;</span><span class="hl-1">, </span><span class="hl-5">audio</span><span class="hl-1">))]);</span><br/><br/><span class="hl-3">// Using MessageBuilder</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">messages</span><span class="hl-1"> = </span><span class="hl-0">createMessageBuilder</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-0">system</span><span class="hl-1">(</span><span class="hl-2">&#39;You are a helpful assistant.&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">userWithAudio</span><span class="hl-1">(</span><span class="hl-2">&#39;What language is being spoken?&#39;</span><span class="hl-1">, </span><span class="hl-0">audioFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./speech.wav&#39;</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// From buffer or URL</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">audioFromBuffer</span><span class="hl-1">, </span><span class="hl-5">audioFromURL</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">audioBuffer</span><span class="hl-1"> = </span><span class="hl-0">audioFromBuffer</span><span class="hl-1">(</span><span class="hl-5">wavBuffer</span><span class="hl-1">, </span><span class="hl-2">&#39;audio/wav&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">audioUrl</span><span class="hl-1"> = </span><span class="hl-0">audioFromURL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com/audio.mp3&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="video-understanding" class="tsd-anchor-link">Video Understanding<a href="#video-understanding" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Analyze videos with Gemini:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Gemini</span><span class="hl-1">, </span><span class="hl-5">videoFromFile</span><span class="hl-1">, </span><span class="hl-5">userMessage</span><span class="hl-1">, </span><span class="hl-5">withVideo</span><span class="hl-1">, </span><span class="hl-5">createMessageBuilder</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">gemini</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Gemini</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Analyze a video</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">video</span><span class="hl-1"> = </span><span class="hl-0">videoFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./demo.mp4&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><span class="hl-0">userMessage</span><span class="hl-1">(</span><span class="hl-0">withVideo</span><span class="hl-1">(</span><span class="hl-2">&#39;What happens in this video?&#39;</span><span class="hl-1">, </span><span class="hl-5">video</span><span class="hl-1">))]);</span><br/><br/><span class="hl-3">// Ask specific questions</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">userMessage</span><span class="hl-1">(</span><span class="hl-0">withVideo</span><span class="hl-1">(</span><span class="hl-2">&#39;How many people appear in this video and what are they doing?&#39;</span><span class="hl-1">, </span><span class="hl-5">video</span><span class="hl-1">)),</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-3">// Using MessageBuilder</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">messages</span><span class="hl-1"> = </span><span class="hl-0">createMessageBuilder</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-0">system</span><span class="hl-1">(</span><span class="hl-2">&#39;You are a video analysis expert.&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">userWithVideo</span><span class="hl-1">(</span><span class="hl-2">&#39;Describe the key scenes&#39;</span><span class="hl-1">, </span><span class="hl-0">videoFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./presentation.mp4&#39;</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">build</span><span class="hl-1">();</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response3</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">complete</span><span class="hl-1">(</span><span class="hl-5">messages</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// From buffer or URL</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">videoFromBuffer</span><span class="hl-1">, </span><span class="hl-5">videoFromURL</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">videoBuffer</span><span class="hl-1"> = </span><span class="hl-0">videoFromBuffer</span><span class="hl-1">(</span><span class="hl-5">mp4Buffer</span><span class="hl-1">, </span><span class="hl-2">&#39;video/mp4&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">videoUrl</span><span class="hl-1"> = </span><span class="hl-0">videoFromURL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com/video.mp4&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="realtime-api-voice-apps" class="tsd-anchor-link">Realtime API (Voice Apps)<a href="#realtime-api-voice-apps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Build voice applications with bidirectional audio streaming:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Create a realtime session</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">session</span><span class="hl-1"> = </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">createRealtimeSession</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;gpt-4o-realtime-preview&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">voice:</span><span class="hl-1"> </span><span class="hl-2">&#39;nova&#39;</span><span class="hl-1">, </span><span class="hl-3">// alloy, echo, shimmer, ash, ballad, coral, sage, verse</span><br/><span class="hl-1">  </span><span class="hl-5">instructions:</span><span class="hl-1"> </span><span class="hl-2">&#39;You are a helpful voice assistant.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">inputAudioFormat:</span><span class="hl-1"> </span><span class="hl-2">&#39;pcm16&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">outputAudioFormat:</span><span class="hl-1"> </span><span class="hl-2">&#39;pcm16&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">turnDetection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;server_vad&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">threshold:</span><span class="hl-1"> </span><span class="hl-6">0.5</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">silenceDurationMs:</span><span class="hl-1"> </span><span class="hl-6">500</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Connect to the realtime API</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Handle events</span><br/><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;response.audio.delta&#39;</span><span class="hl-1">, (</span><span class="hl-5">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// event.delta contains base64 audio chunk</span><br/><span class="hl-1">  </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">audioChunk</span><span class="hl-1"> = </span><span class="hl-5">Buffer</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">(</span><span class="hl-5">event</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">, </span><span class="hl-2">&#39;base64&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">// Play audio chunk through speaker</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;response.audio_transcript.delta&#39;</span><span class="hl-1">, (</span><span class="hl-5">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// Display real-time transcript</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">event</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;conversation.item.created&#39;</span><span class="hl-1">, (</span><span class="hl-5">event</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;New conversation item:&#39;</span><span class="hl-1">, </span><span class="hl-5">event</span><span class="hl-1">.</span><span class="hl-5">item</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Send audio data</span><br/><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">sendAudio</span><span class="hl-1">(</span><span class="hl-5">audioBuffer</span><span class="hl-1">); </span><span class="hl-3">// Send recorded audio</span><br/><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">commitAudio</span><span class="hl-1">(); </span><span class="hl-3">// Signal end of audio input</span><br/><br/><span class="hl-3">// Or send text (for testing)</span><br/><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">sendText</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello, how are you?&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Cancel ongoing response</span><br/><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">cancelResponse</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Clear audio buffer</span><br/><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">clearAudioBuffer</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Check connection status</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Connected:&#39;</span><span class="hl-1">, </span><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-5">isConnected</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Close session</span><br/><span class="hl-5">session</span><span class="hl-1">.</span><span class="hl-0">close</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="imagen-gemini-image-generation" class="tsd-anchor-link">Imagen (Gemini Image Generation)<a href="#imagen-gemini-image-generation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Generate images with Google's Imagen:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Gemini</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">gemini</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Gemini</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Generate images</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">generateImage</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;A serene mountain landscape at sunset with a reflective lake&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;imagen-4.0-generate-001&#39;</span><span class="hl-1">, </span><span class="hl-3">// or &#39;imagen-3.0-fast-generate-001&#39;</span><br/><span class="hl-1">  </span><span class="hl-5">numberOfImages:</span><span class="hl-1"> </span><span class="hl-6">2</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">aspectRatio:</span><span class="hl-1"> </span><span class="hl-2">&#39;16:9&#39;</span><span class="hl-1">, </span><span class="hl-3">// &#39;1:1&#39;, &#39;3:4&#39;, &#39;4:3&#39;, &#39;9:16&#39;, &#39;16:9&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Save images</span><br/><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">images</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">((</span><span class="hl-5">buffer</span><span class="hl-1">, </span><span class="hl-5">i</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">`landscape-</span><span class="hl-7">${</span><span class="hl-5">i</span><span class="hl-7">}</span><span class="hl-2">.png`</span><span class="hl-1">, </span><span class="hl-5">buffer</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// With negative prompt and safety settings</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">result2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1">.</span><span class="hl-0">generateImage</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">prompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;A cute cartoon robot&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">negativePrompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;scary, dark, violent&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">numberOfImages:</span><span class="hl-1"> </span><span class="hl-6">4</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">aspectRatio:</span><span class="hl-1"> </span><span class="hl-2">&#39;1:1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">personGeneration:</span><span class="hl-1"> </span><span class="hl-2">&#39;allow_adult&#39;</span><span class="hl-1">, </span><span class="hl-3">// or &#39;dont_allow&#39;</span><br/><span class="hl-1">  </span><span class="hl-5">safetyFilterLevel:</span><span class="hl-1"> </span><span class="hl-2">&#39;block_medium_and_above&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">addWatermark:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="audio" class="tsd-anchor-link">Audio<a href="#audio" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="speech-to-text-whisper" class="tsd-anchor-link">Speech-to-Text (Whisper)<a href="#speech-to-text-whisper" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Transcribe audio files to text:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Transcribe from file path</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">transcript</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">transcribe</span><span class="hl-1">(</span><span class="hl-2">&#39;./audio.mp3&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">language:</span><span class="hl-1"> </span><span class="hl-2">&#39;en&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">responseFormat:</span><span class="hl-1"> </span><span class="hl-2">&#39;verbose_json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">transcript</span><span class="hl-1">.</span><span class="hl-5">text</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">transcript</span><span class="hl-1">.</span><span class="hl-5">duration</span><span class="hl-1">); </span><span class="hl-3">// Duration in seconds</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">transcript</span><span class="hl-1">.</span><span class="hl-5">segments</span><span class="hl-1">); </span><span class="hl-3">// Timestamped segments</span><br/><br/><span class="hl-3">// Transcribe from buffer</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">audioBuffer</span><span class="hl-1"> = </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;./audio.mp3&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">transcript2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">transcribe</span><span class="hl-1">(</span><span class="hl-5">audioBuffer</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="text-to-speech" class="tsd-anchor-link">Text-to-Speech<a href="#text-to-speech" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Convert text to spoken audio:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Generate speech</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">audioBuffer</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">speak</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello, world!&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">voice:</span><span class="hl-1"> </span><span class="hl-2">&#39;nova&#39;</span><span class="hl-1">, </span><span class="hl-3">// alloy, echo, fable, onyx, nova, shimmer</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;tts-1-hd&#39;</span><span class="hl-1">, </span><span class="hl-3">// tts-1 or tts-1-hd</span><br/><span class="hl-1">  </span><span class="hl-5">speed:</span><span class="hl-1"> </span><span class="hl-6">1.0</span><span class="hl-1">, </span><span class="hl-3">// 0.25 to 4.0</span><br/><span class="hl-1">  </span><span class="hl-5">responseFormat:</span><span class="hl-1"> </span><span class="hl-2">&#39;mp3&#39;</span><span class="hl-1">, </span><span class="hl-3">// mp3, opus, aac, flac, wav, pcm</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;output.mp3&#39;</span><span class="hl-1">, </span><span class="hl-5">audioBuffer</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="conversation-manager" class="tsd-anchor-link">Conversation Manager<a href="#conversation-manager" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Manage multi-turn conversations with automatic history, serialization, editing, and token-aware trimming:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">Conversation</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">ConversationJSON</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Create a conversation</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chat</span><span class="hl-1"> = </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">createConversation</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">systemPrompt:</span><span class="hl-1"> </span><span class="hl-2">&#39;You are a helpful coding assistant.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">maxHistory:</span><span class="hl-1"> </span><span class="hl-6">20</span><span class="hl-1">, </span><span class="hl-3">// Keep last 20 messages (trims by whole exchanges)</span><br/><span class="hl-1">  </span><span class="hl-5">maxContextTokens:</span><span class="hl-1"> </span><span class="hl-6">8000</span><span class="hl-1">, </span><span class="hl-3">// Token budget for input context window</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Send messages - history is managed automatically</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response1</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;What is recursion?&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">response1</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1">);</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;Can you give me an example?&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">response2</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1">); </span><span class="hl-3">// Knows we&#39;re talking about recursion</span><br/><br/><span class="hl-3">// Stream responses (tool calls are captured in history automatically)</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">sendStream</span><span class="hl-1">(</span><span class="hl-2">&#39;Write a recursive factorial function&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Error rollback: if send() or sendStream() fails, the user message</span><br/><span class="hl-3">// is automatically removed from history so you can retry safely.</span><br/><br/><span class="hl-3">// Conversation utilities</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-5">length</span><span class="hl-1">); </span><span class="hl-3">// Number of messages (excluding system)</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">getHistory</span><span class="hl-1">()); </span><span class="hl-3">// Get full history (deep cloned)</span><br/><br/><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">undo</span><span class="hl-1">(); </span><span class="hl-3">// Remove last exchange</span><br/><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">clear</span><span class="hl-1">(); </span><span class="hl-3">// Clear history (keeps system prompt)</span><br/><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">reset</span><span class="hl-1">(</span><span class="hl-2">&#39;New system prompt&#39;</span><span class="hl-1">); </span><span class="hl-3">// Start fresh</span><br/><br/><span class="hl-3">// Fork conversation for branching</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">branch</span><span class="hl-1"> = </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">fork</span><span class="hl-1">();</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">branch</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;What about iteration instead?&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Edit a message and truncate history after it</span><br/><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">editMessage</span><span class="hl-1">(</span><span class="hl-6">1</span><span class="hl-1">, </span><span class="hl-2">&#39;Actually, explain it differently&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;Actually, explain it differently&#39;</span><span class="hl-1">); </span><span class="hl-3">// Continue from edited point</span><br/><br/><span class="hl-3">// Serialize / restore conversations</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">json</span><span class="hl-1">: </span><span class="hl-10">ConversationJSON</span><span class="hl-1"> = </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">toJSON</span><span class="hl-1">();</span><br/><span class="hl-3">// Save to file, database, etc.</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">restored</span><span class="hl-1"> = </span><span class="hl-5">Conversation</span><span class="hl-1">.</span><span class="hl-0">fromJSON</span><span class="hl-1">(</span><span class="hl-5">chatGPT</span><span class="hl-1">, </span><span class="hl-5">json</span><span class="hl-1">);</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">restored</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;Continue where we left off&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Summarize old messages to save tokens</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">summarize</span><span class="hl-1">(</span><span class="hl-6">4</span><span class="hl-1">); </span><span class="hl-3">// Keep last 4 messages, summarize the rest</span>
</code><button type="button">Copy</button></pre>

<h3 id="ergonomic-multimodal-input" class="tsd-anchor-link">Ergonomic Multimodal Input<a href="#ergonomic-multimodal-input" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p><code>send()</code> and <code>sendStream()</code> accept flexible input types  no need to manually wrap content in <code>Message</code> objects:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">imageFromURL</span><span class="hl-1">, </span><span class="hl-5">text</span><span class="hl-1">, </span><span class="hl-5">createConversation</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chat</span><span class="hl-1"> = </span><span class="hl-0">createConversation</span><span class="hl-1">(</span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">());</span><br/><br/><span class="hl-3">// Plain string (as before)</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// A full Message object (as before)</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">({ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Hello&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-3">// A single MessageContent object  automatically wrapped as a user message</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">({ </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;image&#39;</span><span class="hl-1">, </span><span class="hl-5">source:</span><span class="hl-1"> { </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;url&#39;</span><span class="hl-1">, </span><span class="hl-5">data:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://example.com/photo.jpg&#39;</span><span class="hl-1"> } });</span><br/><br/><span class="hl-3">// An array of MessageContent parts  automatically wrapped as a user message</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">text</span><span class="hl-1">(</span><span class="hl-2">&#39;Describe this image:&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">imageFromURL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com/photo.jpg&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-3">// Works with streaming too</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">sendStream</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">text</span><span class="hl-1">(</span><span class="hl-2">&#39;What do you see?&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">imageFromURL</span><span class="hl-1">(</span><span class="hl-2">&#39;https://example.com/photo.jpg&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">])) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="provider-switching" class="tsd-anchor-link">Provider Switching<a href="#provider-switching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Switch providers mid-conversation for multi-agent workflows or cost optimization:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">Claude</span><span class="hl-1">, </span><span class="hl-5">Gemini</span><span class="hl-1">, </span><span class="hl-5">createConversation</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">claude</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Claude</span><span class="hl-1">();</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">gemini</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">Gemini</span><span class="hl-1">();</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chat</span><span class="hl-1"> = </span><span class="hl-0">createConversation</span><span class="hl-1">(</span><span class="hl-5">chatGPT</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Check current provider</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-5">currentProvider</span><span class="hl-1">); </span><span class="hl-3">// ChatGPT instance</span><br/><br/><span class="hl-3">// Permanently switch provider</span><br/><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">setProvider</span><span class="hl-1">(</span><span class="hl-5">claude</span><span class="hl-1">);</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;Now using Claude&#39;</span><span class="hl-1">); </span><span class="hl-3">// Uses Claude</span><br/><br/><span class="hl-3">// Per-call override (does NOT change the permanent provider)</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;One-off with Gemini&#39;</span><span class="hl-1">, { </span><span class="hl-5">provider:</span><span class="hl-1"> </span><span class="hl-5">gemini</span><span class="hl-1"> });</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-5">currentProvider</span><span class="hl-1">); </span><span class="hl-3">// Still Claude</span><br/><br/><span class="hl-3">// Works with streaming too</span><br/><span class="hl-4">for</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chunk</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">sendStream</span><span class="hl-1">(</span><span class="hl-2">&#39;Stream from GPT&#39;</span><span class="hl-1">, { </span><span class="hl-5">provider:</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1"> })) {</span><br/><span class="hl-1">  </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">stdout</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-5">chunk</span><span class="hl-1">.</span><span class="hl-5">delta</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1"> || </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// fork() copies the current provider</span><br/><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">setProvider</span><span class="hl-1">(</span><span class="hl-5">gemini</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">forked</span><span class="hl-1"> = </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">fork</span><span class="hl-1">();</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">forked</span><span class="hl-1">.</span><span class="hl-5">currentProvider</span><span class="hl-1">); </span><span class="hl-3">// Gemini</span>
</code><button type="button">Copy</button></pre>

<h3 id="automated-tool-loop" class="tsd-anchor-link">Automated Tool Loop<a href="#automated-tool-loop" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Run multi-turn tool-call loops automatically with <code>runToolLoop()</code>:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1">, </span><span class="hl-5">createConversation</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">ToolCall</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chat</span><span class="hl-1"> = </span><span class="hl-0">createConversation</span><span class="hl-1">(</span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">());</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">runToolLoop</span><span class="hl-1">(</span><span class="hl-2">&#39;What is the weather in NYC and SF?&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-3">// Provide a handler that executes tool calls and returns results</span><br/><span class="hl-1">  </span><span class="hl-0">toolHandler</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-7">async</span><span class="hl-1"> (</span><span class="hl-5">toolCall</span><span class="hl-1">: </span><span class="hl-10">ToolCall</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">toolCall</span><span class="hl-1">.</span><span class="hl-5">name</span><span class="hl-1"> === </span><span class="hl-2">&#39;get_weather&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">city</span><span class="hl-1"> = </span><span class="hl-5">toolCall</span><span class="hl-1">.</span><span class="hl-5">arguments</span><span class="hl-1">.</span><span class="hl-5">city</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-10">string</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">`</span><span class="hl-7">${</span><span class="hl-5">city</span><span class="hl-7">}</span><span class="hl-2">: Sunny, 72F`</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">&#39;Unknown tool&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">maxIterations:</span><span class="hl-1"> </span><span class="hl-6">10</span><span class="hl-1">, </span><span class="hl-3">// Default: 10. Limits loop rounds to prevent runaway.</span><br/><span class="hl-1">  </span><span class="hl-3">// All standard completion options are supported:</span><br/><span class="hl-1">  </span><span class="hl-5">tools:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;get_weather&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Get weather for a city&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">parameters:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;object&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">properties:</span><span class="hl-1"> { </span><span class="hl-5">city:</span><span class="hl-1"> { </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1"> } },</span><br/><span class="hl-1">        </span><span class="hl-5">required:</span><span class="hl-1"> [</span><span class="hl-2">&#39;city&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-3">// Per-call provider override works here too:</span><br/><span class="hl-1">  </span><span class="hl-3">// provider: someOtherProvider,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// response is the final Response after all tool calls are resolved</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">response</span><span class="hl-1">.</span><span class="hl-5">content</span><span class="hl-1">); </span><span class="hl-3">// &quot;NYC is sunny at 72F and SF is...&quot;</span><br/><br/><span class="hl-3">// History contains the full trace: user  assistant(tool_calls)  tool  ...  assistant(final)</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">chat</span><span class="hl-1">.</span><span class="hl-0">getHistory</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<h3 id="conversation-options" class="tsd-anchor-link">Conversation Options<a href="#conversation-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>systemPrompt</code></td>
<td>string</td>
<td>System prompt for the conversation</td>
</tr>
<tr>
<td><code>model</code></td>
<td>string</td>
<td>Default model to use</td>
</tr>
<tr>
<td><code>maxTokens</code></td>
<td>number</td>
<td>Default max output tokens</td>
</tr>
<tr>
<td><code>temperature</code></td>
<td>number</td>
<td>Default temperature</td>
</tr>
<tr>
<td><code>maxHistory</code></td>
<td>number</td>
<td>Max non-system messages (trims oldest exchanges first)</td>
</tr>
<tr>
<td><code>maxContextTokens</code></td>
<td>number</td>
<td>Token budget for input context (trims oldest exchanges)</td>
</tr>
</tbody>
</table>
<h2 id="batch-processing" class="tsd-anchor-link">Batch Processing<a href="#batch-processing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Process multiple requests efficiently:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Define batch requests</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">requests</span><span class="hl-1"> = [</span><br/><span class="hl-1">  { </span><span class="hl-5">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;q1&#39;</span><span class="hl-1">, </span><span class="hl-5">messages:</span><span class="hl-1"> [{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;What is 2+2?&#39;</span><span class="hl-1"> }] },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-5">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;q2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">messages:</span><span class="hl-1"> [{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;What is the capital of France?&#39;</span><span class="hl-1"> }],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  { </span><span class="hl-5">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;q3&#39;</span><span class="hl-1">, </span><span class="hl-5">messages:</span><span class="hl-1"> [{ </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Who wrote Hamlet?&#39;</span><span class="hl-1"> }] },</span><br/><span class="hl-1">];</span><br/><br/><span class="hl-3">// Process with concurrency control (default: 5 parallel requests)</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">results</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">completeBatch</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-5">requests</span><span class="hl-1">,</span><br/><span class="hl-1">  { </span><span class="hl-5">maxTokens:</span><span class="hl-1"> </span><span class="hl-6">100</span><span class="hl-1"> }, </span><span class="hl-3">// Shared options</span><br/><span class="hl-1">  </span><span class="hl-6">5</span><span class="hl-1"> </span><span class="hl-3">// Max concurrent requests</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Handle results</span><br/><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">results</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-7">${</span><span class="hl-5">result</span><span class="hl-11">.</span><span class="hl-5">id</span><span class="hl-7">}</span><span class="hl-2"> failed:`</span><span class="hl-1">, </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">error</span><span class="hl-1">.</span><span class="hl-5">message</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-7">${</span><span class="hl-5">result</span><span class="hl-11">.</span><span class="hl-5">id</span><span class="hl-7">}</span><span class="hl-2">:`</span><span class="hl-1">, </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">response</span><span class="hl-1">?.</span><span class="hl-5">content</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="content-moderation" class="tsd-anchor-link">Content Moderation<a href="#content-moderation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Check content for policy violations:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Moderate single text</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">results</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">moderate</span><span class="hl-1">(</span><span class="hl-2">&#39;Some text to check&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">results</span><span class="hl-1">[</span><span class="hl-6">0</span><span class="hl-1">].</span><span class="hl-5">flagged</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Content flagged!&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Categories:&#39;</span><span class="hl-1">, </span><span class="hl-5">results</span><span class="hl-1">[</span><span class="hl-6">0</span><span class="hl-1">].</span><span class="hl-5">categories</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">// {</span><br/><span class="hl-1">  </span><span class="hl-3">//   hate: { flagged: false, score: 0.001 },</span><br/><span class="hl-1">  </span><span class="hl-3">//   violence: { flagged: true, score: 0.95 },</span><br/><span class="hl-1">  </span><span class="hl-3">//   ...</span><br/><span class="hl-1">  </span><span class="hl-3">// }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Moderate multiple texts at once</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">batchResults</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">moderate</span><span class="hl-1">([</span><span class="hl-2">&#39;First text to check&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Second text to check&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Third text to check&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-5">batchResults</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">((</span><span class="hl-5">result</span><span class="hl-1">, </span><span class="hl-5">i</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Text </span><span class="hl-7">${</span><span class="hl-5">i</span><span class="hl-11"> </span><span class="hl-1">+</span><span class="hl-11"> </span><span class="hl-6">1</span><span class="hl-7">}</span><span class="hl-2">: </span><span class="hl-7">${</span><span class="hl-5">result</span><span class="hl-11">.</span><span class="hl-5">flagged</span><span class="hl-11"> </span><span class="hl-1">?</span><span class="hl-11"> </span><span class="hl-2">&#39;FLAGGED&#39;</span><span class="hl-11"> </span><span class="hl-1">:</span><span class="hl-11"> </span><span class="hl-2">&#39;OK&#39;</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="file-management" class="tsd-anchor-link">File Management<a href="#file-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Upload and manage files for fine-tuning, assistants, and more:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Upload a file</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">file</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./training-data.jsonl&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">purpose:</span><span class="hl-1"> </span><span class="hl-2">&#39;fine-tune&#39;</span><span class="hl-1">, </span><span class="hl-3">// &#39;assistants&#39;, &#39;fine-tune&#39;, &#39;batch&#39;, &#39;vision&#39;</span><br/><span class="hl-1">});</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Uploaded:&#39;</span><span class="hl-1">, </span><span class="hl-5">file</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">, </span><span class="hl-5">file</span><span class="hl-1">.</span><span class="hl-5">filename</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Upload from buffer</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">buffer</span><span class="hl-1"> = </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;./data.jsonl&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">file2</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-5">buffer</span><span class="hl-1">, { </span><span class="hl-5">purpose:</span><span class="hl-1"> </span><span class="hl-2">&#39;fine-tune&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-3">// List files</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">fileList</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">listFiles</span><span class="hl-1">(</span><span class="hl-2">&#39;fine-tune&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;Files:&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">fileList</span><span class="hl-1">.</span><span class="hl-5">files</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-5">f</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-5">f</span><span class="hl-1">.</span><span class="hl-5">filename</span><span class="hl-1">)</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Get file content</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">content</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">getFileContent</span><span class="hl-1">(</span><span class="hl-5">file</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">);</span><br/><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;downloaded.jsonl&#39;</span><span class="hl-1">, </span><span class="hl-5">content</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Delete file</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">deleted</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">deleteFile</span><span class="hl-1">(</span><span class="hl-5">file</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Deleted:&#39;</span><span class="hl-1">, </span><span class="hl-5">deleted</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="model-listing" class="tsd-anchor-link">Model Listing<a href="#model-listing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>List available models from providers:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// List all models</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">models</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">listModels</span><span class="hl-1">();</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Available models:&#39;</span><span class="hl-1">, </span><span class="hl-5">models</span><span class="hl-1">.</span><span class="hl-5">models</span><span class="hl-1">.</span><span class="hl-5">length</span><span class="hl-1">);</span><br/><br/><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">model</span><span class="hl-1"> </span><span class="hl-7">of</span><span class="hl-1"> </span><span class="hl-5">models</span><span class="hl-1">.</span><span class="hl-5">models</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`- </span><span class="hl-7">${</span><span class="hl-5">model</span><span class="hl-11">.</span><span class="hl-5">id</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`  Owner: </span><span class="hl-7">${</span><span class="hl-5">model</span><span class="hl-11">.</span><span class="hl-5">ownedBy</span><span class="hl-7">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`  Capabilities:`</span><span class="hl-1">, </span><span class="hl-5">model</span><span class="hl-1">.</span><span class="hl-5">capabilities</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Get specific model details</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">gpt4o</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">getModel</span><span class="hl-1">(</span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;GPT-4o capabilities:&#39;</span><span class="hl-1">, </span><span class="hl-5">gpt4o</span><span class="hl-1">.</span><span class="hl-5">capabilities</span><span class="hl-1">);</span><br/><span class="hl-3">// { chat: true, vision: true, functionCalling: true, ... }</span>
</code><button type="button">Copy</button></pre>

<h2 id="token-counting" class="tsd-anchor-link">Token Counting<a href="#token-counting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Estimate token usage before sending requests:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ChatGPT</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">();</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">messages</span><span class="hl-1"> = [</span><br/><span class="hl-1">  { </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;system&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;You are a helpful assistant.&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-5">role:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Write a long story about a magical kingdom.&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">];</span><br/><br/><span class="hl-3">// Estimate tokens</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">estimate</span><span class="hl-1"> = </span><span class="hl-5">chatGPT</span><span class="hl-1">.</span><span class="hl-0">countTokens</span><span class="hl-1">(</span><span class="hl-5">messages</span><span class="hl-1">, </span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Estimated tokens:&#39;</span><span class="hl-1">, </span><span class="hl-5">estimate</span><span class="hl-1">.</span><span class="hl-5">tokens</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Breakdown:&#39;</span><span class="hl-1">, </span><span class="hl-5">estimate</span><span class="hl-1">.</span><span class="hl-5">breakdown</span><span class="hl-1">);</span><br/><span class="hl-3">// { messages: 15, overhead: 3 }</span><br/><br/><span class="hl-3">// Use for cost estimation or to check context limits</span><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">estimate</span><span class="hl-1">.</span><span class="hl-5">tokens</span><span class="hl-1"> &gt; </span><span class="hl-6">100000</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Warning: Large request, consider summarizing&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="global-configuration" class="tsd-anchor-link">Global Configuration<a href="#global-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Configure default settings for all providers:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">configure</span><span class="hl-1">, </span><span class="hl-5">getGlobalConfig</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Set global defaults</span><br/><span class="hl-0">configure</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">timeout:</span><span class="hl-1"> </span><span class="hl-6">30000</span><span class="hl-1">, </span><span class="hl-3">// 30 second timeout</span><br/><span class="hl-1">  </span><span class="hl-5">maxRetries:</span><span class="hl-1"> </span><span class="hl-6">5</span><span class="hl-1">, </span><span class="hl-3">// Retry up to 5 times</span><br/><span class="hl-1">  </span><span class="hl-5">retryDelay:</span><span class="hl-1"> </span><span class="hl-6">2000</span><span class="hl-1">, </span><span class="hl-3">// Start with 2 second delay</span><br/><span class="hl-1">  </span><span class="hl-5">debug:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">, </span><span class="hl-3">// Enable debug logging</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Get current configuration</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">config</span><span class="hl-1"> = </span><span class="hl-0">getGlobalConfig</span><span class="hl-1">();</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">config</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Provider-specific config overrides global</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">chatGPT</span><span class="hl-1"> = </span><span class="hl-7">new</span><span class="hl-1"> </span><span class="hl-0">ChatGPT</span><span class="hl-1">(</span><span class="hl-2">&#39;key&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-5">timeout:</span><span class="hl-1"> </span><span class="hl-6">60000</span><span class="hl-1">, </span><span class="hl-3">// Override for this instance</span><br/><span class="hl-1">  </span><span class="hl-5">maxRetries:</span><span class="hl-1"> </span><span class="hl-6">3</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="typescript-types" class="tsd-anchor-link">TypeScript Types<a href="#typescript-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>All types are exported for TypeScript users:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// Message types</span><br/><span class="hl-1">  </span><span class="hl-5">Message</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">MessageRole</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">TextContent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ImageContent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">AudioContent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">VideoContent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">DocumentContent</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Tool types</span><br/><span class="hl-1">  </span><span class="hl-5">ToolDefinition</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ToolCall</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Response types</span><br/><span class="hl-1">  </span><span class="hl-5">Response</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">Chunk</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">FinishReason</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Options</span><br/><span class="hl-1">  </span><span class="hl-5">CompletionOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">StreamOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">EmbeddingOptions</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Audio types</span><br/><span class="hl-1">  </span><span class="hl-5">TranscriptionOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">TranscriptionResponse</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">TTSOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">TTSVoice</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">TTSModel</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Video types</span><br/><span class="hl-1">  </span><span class="hl-5">VideoGenerationOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">VideoJob</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">VideoResponse</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Imagen types</span><br/><span class="hl-1">  </span><span class="hl-5">ImagenOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ImagenResponse</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Realtime types</span><br/><span class="hl-1">  </span><span class="hl-5">RealtimeSessionConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">RealtimeEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">RealtimeVoice</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Moderation types</span><br/><span class="hl-1">  </span><span class="hl-5">ModerationOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ModerationResult</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ModerationCategory</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// File types</span><br/><span class="hl-1">  </span><span class="hl-5">FileUploadOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">FileInfo</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">FileListResponse</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Model types</span><br/><span class="hl-1">  </span><span class="hl-5">ModelInfo</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ModelListResponse</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Batch types</span><br/><span class="hl-1">  </span><span class="hl-5">BatchRequest</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">BatchResponse</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Conversation types</span><br/><span class="hl-1">  </span><span class="hl-5">ConversationOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ConversationJSON</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">SendContent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ToolHandler</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ToolLoopOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ConversationSendOptions</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ConversationStreamOptions</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Token counting</span><br/><span class="hl-1">  </span><span class="hl-5">TokenCountResult</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Config</span><br/><span class="hl-1">  </span><span class="hl-5">ProviderConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">GlobalConfig</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Provider interfaces</span><br/><span class="hl-1">  </span><span class="hl-5">AIProvider</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@joliegg/ai&#39;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h2 id="model-reference" class="tsd-anchor-link">Model Reference<a href="#model-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="chat-models" class="tsd-anchor-link">Chat Models<a href="#chat-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Models</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenAI</td>
<td><code>gpt-5.2</code> (default), <code>gpt-4o</code>, <code>gpt-4o-mini</code>, <code>o3-mini</code>, <code>o1-preview</code></td>
</tr>
<tr>
<td>Claude</td>
<td><code>claude-sonnet-4-5-20250929</code> (default), <code>claude-opus-4-20250514</code>, <code>claude-sonnet-4-0</code></td>
</tr>
<tr>
<td>Gemini</td>
<td><code>gemini-2.5-pro</code> (default), <code>gemini-2.0-pro</code>, <code>gemini-1.5-pro</code></td>
</tr>
<tr>
<td>DeepSeek</td>
<td><code>deepseek-reasoner</code> (default), <code>deepseek-chat</code>, <code>deepseek-coder</code></td>
</tr>
<tr>
<td>Grok</td>
<td><code>grok-4-1-fast-reasoning</code> (default), <code>grok-4</code>, <code>grok-4-1-fast-non-reasoning</code></td>
</tr>
<tr>
<td>Mistral</td>
<td><code>mistral-large-latest</code> (default), <code>mistral-medium</code>, <code>mistral-small</code></td>
</tr>
<tr>
<td>Ollama</td>
<td><code>llama3.2</code> (default), any pulled model</td>
</tr>
<tr>
<td>Qwen</td>
<td><code>qwen-plus</code> (default), <code>qwen3-max</code>, <code>qwen-turbo</code>, <code>qwen-flash</code>, <code>qwq-plus</code></td>
</tr>
<tr>
<td>Kimi</td>
<td><code>kimi-k2.5</code> (default), <code>kimi-k2-thinking</code>, <code>kimi-k2-thinking-turbo</code></td>
</tr>
</tbody>
</table>
<h3 id="image-models" class="tsd-anchor-link">Image Models<a href="#image-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Models</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenAI</td>
<td><code>dall-e-3</code>, <code>dall-e-2</code>, <code>gpt-image-1</code>, <code>gpt-image-1.5</code></td>
</tr>
<tr>
<td>Grok</td>
<td><code>grok-2-image</code></td>
</tr>
<tr>
<td>Stability</td>
<td><code>ultra</code>, <code>core</code>, <code>sd3</code> engines</td>
</tr>
<tr>
<td>Gemini</td>
<td><code>imagen-4.0-generate-001</code>, <code>imagen-4.0-fast-generate-001</code>, <code>imagen-4.0-ultra-generate-001</code>, <code>imagen-3.0-generate-001</code>, <code>imagen-3.0-fast-generate-001</code></td>
</tr>
</tbody>
</table>
<h3 id="embedding-models" class="tsd-anchor-link">Embedding Models<a href="#embedding-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Models</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenAI</td>
<td><code>text-embedding-3-small</code> (default), <code>text-embedding-3-large</code></td>
</tr>
<tr>
<td>Gemini</td>
<td><code>gemini-embedding-001</code> (default)</td>
</tr>
<tr>
<td>Mistral</td>
<td><code>mistral-embed</code> (default)</td>
</tr>
<tr>
<td>DeepSeek</td>
<td><code>deepseek-embedding-v2</code> (default)</td>
</tr>
<tr>
<td>Ollama</td>
<td><code>nomic-embed-text</code> (default)</td>
</tr>
<tr>
<td>Qwen</td>
<td><code>text-embedding-v4</code> (default), <code>text-embedding-v3</code></td>
</tr>
</tbody>
</table>
<h3 id="audio-models" class="tsd-anchor-link">Audio Models<a href="#audio-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Type</th>
<th>Models</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenAI</td>
<td>Transcription</td>
<td><code>whisper-1</code></td>
</tr>
<tr>
<td>OpenAI</td>
<td>TTS</td>
<td><code>tts-1</code>, <code>tts-1-hd</code></td>
</tr>
</tbody>
</table>
<h3 id="video-models" class="tsd-anchor-link">Video Models<a href="#video-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Models</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenAI</td>
<td><code>sora-2</code> (default), <code>sora-2-pro</code></td>
</tr>
</tbody>
</table>
<h2 id="environment-variables" class="tsd-anchor-link">Environment Variables<a href="#environment-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>The library auto-detects API keys from these environment variables:</p>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Environment Variable</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenAI</td>
<td><code>OPENAI_API_KEY</code></td>
</tr>
<tr>
<td>Claude</td>
<td><code>ANTHROPIC_API_KEY</code> or <code>CLAUDE_API_KEY</code></td>
</tr>
<tr>
<td>Gemini</td>
<td><code>GOOGLE_API_KEY</code> or <code>GEMINI_API_KEY</code></td>
</tr>
<tr>
<td>DeepSeek</td>
<td><code>DEEPSEEK_API_KEY</code></td>
</tr>
<tr>
<td>Grok</td>
<td><code>GROK_API_KEY</code></td>
</tr>
<tr>
<td>Mistral</td>
<td><code>MISTRAL_API_KEY</code></td>
</tr>
<tr>
<td>Ollama</td>
<td><code>OLLAMA_HOST</code> (optional, defaults to <code>localhost:11434</code>)</td>
</tr>
<tr>
<td>Qwen</td>
<td><code>DASHSCOPE_API_KEY</code></td>
</tr>
<tr>
<td>Kimi</td>
<td><code>MOONSHOT_API_KEY</code></td>
</tr>
</tbody>
</table>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>This project is licensed under the Hippocratic License 3.0 - see the <a href="media/LICENSE.md">LICENSE.md</a> file for details.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#chat-ai"><span>Chat <wbr/>AI</span></a><ul><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#unified-interface"><span>Unified <wbr/>Interface</span></a></li><li><a href="#streaming"><span>Streaming</span></a></li><li><a href="#functiontool-calling"><span>Function/<wbr/>Tool <wbr/>Calling</span></a></li><li><a href="#embeddings"><span>Embeddings</span></a></li><li><a href="#reasoning-extended-thinking"><span>Reasoning / <wbr/>Extended <wbr/>Thinking</span></a></li><li><a href="#error-handling"><span>Error <wbr/>Handling</span></a></li><li><a href="#provider-specific-examples"><span>Provider-<wbr/>Specific <wbr/>Examples</span></a></li><li><ul><li><a href="#openai-chatgpt"><span>Open<wbr/>AI <wbr/>Chat<wbr/>GPT</span></a></li><li><a href="#anthropic-claude"><span>Anthropic <wbr/>Claude</span></a></li><li><a href="#google-gemini"><span>Google <wbr/>Gemini</span></a></li><li><a href="#deepseek"><span>Deep<wbr/>Seek</span></a></li><li><a href="#grok"><span>Grok</span></a></li><li><a href="#mistral"><span>Mistral</span></a></li><li><a href="#ollama-local-llms"><span>Ollama (<wbr/>Local <wbr/>LL<wbr/>Ms)</span></a></li><li><a href="#qwen"><span>Qwen</span></a></li><li><a href="#kimi"><span>Kimi</span></a></li></ul></li><li><a href="#image-generation"><span>Image <wbr/>Generation</span></a></li><li><ul><li><a href="#openai-dall-e"><span>Open<wbr/>AI <wbr/>DALL-<wbr/>E</span></a></li><li><a href="#stability-ai"><span>Stability <wbr/>AI</span></a></li><li><a href="#grok-image-generation"><span>Grok <wbr/>Image <wbr/>Generation</span></a></li></ul></li><li><a href="#video-generation-sora-2"><span>Video <wbr/>Generation (<wbr/>Sora-<wbr/>2)</span></a></li><li><ul><li><a href="#using-reference-images"><span>Using <wbr/>Reference <wbr/>Images</span></a></li><li><a href="#video-generation-options"><span>Video <wbr/>Generation <wbr/>Options</span></a></li><li><a href="#supported-video-sizes"><span>Supported <wbr/>Video <wbr/>Sizes</span></a></li></ul></li><li><a href="#visionmultimodal"><span>Vision/<wbr/>Multimodal</span></a></li><li><a href="#document-input-pdfs"><span>Document <wbr/>Input (<wbr/>PD<wbr/>Fs)</span></a></li><li><a href="#audio-input-in-chat"><span>Audio <wbr/>Input in <wbr/>Chat</span></a></li><li><a href="#video-understanding"><span>Video <wbr/>Understanding</span></a></li><li><a href="#realtime-api-voice-apps"><span>Realtime <wbr/>API (<wbr/>Voice <wbr/>Apps)</span></a></li><li><a href="#imagen-gemini-image-generation"><span>Imagen (<wbr/>Gemini <wbr/>Image <wbr/>Generation)</span></a></li><li><a href="#audio"><span>Audio</span></a></li><li><ul><li><a href="#speech-to-text-whisper"><span>Speech-<wbr/>to-<wbr/>Text (<wbr/>Whisper)</span></a></li><li><a href="#text-to-speech"><span>Text-<wbr/>to-<wbr/>Speech</span></a></li></ul></li><li><a href="#conversation-manager"><span>Conversation <wbr/>Manager</span></a></li><li><ul><li><a href="#ergonomic-multimodal-input"><span>Ergonomic <wbr/>Multimodal <wbr/>Input</span></a></li><li><a href="#provider-switching"><span>Provider <wbr/>Switching</span></a></li><li><a href="#automated-tool-loop"><span>Automated <wbr/>Tool <wbr/>Loop</span></a></li><li><a href="#conversation-options"><span>Conversation <wbr/>Options</span></a></li></ul></li><li><a href="#batch-processing"><span>Batch <wbr/>Processing</span></a></li><li><a href="#content-moderation"><span>Content <wbr/>Moderation</span></a></li><li><a href="#file-management"><span>File <wbr/>Management</span></a></li><li><a href="#model-listing"><span>Model <wbr/>Listing</span></a></li><li><a href="#token-counting"><span>Token <wbr/>Counting</span></a></li><li><a href="#global-configuration"><span>Global <wbr/>Configuration</span></a></li><li><a href="#typescript-types"><span>Type<wbr/>Script <wbr/>Types</span></a></li><li><a href="#model-reference"><span>Model <wbr/>Reference</span></a></li><li><ul><li><a href="#chat-models"><span>Chat <wbr/>Models</span></a></li><li><a href="#image-models"><span>Image <wbr/>Models</span></a></li><li><a href="#embedding-models"><span>Embedding <wbr/>Models</span></a></li><li><a href="#audio-models"><span>Audio <wbr/>Models</span></a></li><li><a href="#video-models"><span>Video <wbr/>Models</span></a></li></ul></li><li><a href="#environment-variables"><span>Environment <wbr/>Variables</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@joliegg/ai</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
